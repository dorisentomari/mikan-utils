

优化所有的代码，保持代码风格，优化每一个方法，输出优化后的代码，保持现有的代码结构不变。给每一个方法，添加完整的 jsdoc 格式的注释，给出每一个参数的 jsdoc 类型和说明，保证 jsdoc 可以与方法保持一致。要求给出中文 jsdoc 和注释。要求中文。在 if 语句里，必须使用花括号，不得使用 `if (!selector) return null;` 这种风格。jsdoc 里的注释，写出对应的示例，要求按照注释可以被 ```typescript 示例代码 ``` 方式解析成功。


使用中文告诉我，你都做了哪些优化

请对以上所有方法，使用 jest + ts 写出单元测试，要求每一个方法都有单独的一个 describe，describe方法的第一个参数是 测试 ${方法名字}，在 describe 里的每一个 test 里，第一个参数给出对应的中文 test 名字。引入的变量是在 import { $selector } from '../browser'，采用类似的这样的引入方式。要求单元测试，覆盖分支、语句、函数、行数达到 100%。

